---
title: 'AIã‚¢ãƒ—ãƒªã®æ§‹ç¯‰'
icon: "rocket"
description: 3åˆ†ã§ã¯ã˜ã‚ã¦ã®AIã‚¢ãƒ—ãƒªã‚’å®Œæˆã•ã›ã¾ã—ã‚‡ã†ã€‚
---

## ã¯ã˜ã‚ã¦ã®Morphã‚¢ãƒ—ãƒªã‚’æ§‹ç¯‰ã™ã‚‹

Morphã‚’ä½¿ã£ãŸåˆã‚ã¦ã®AIã‚¢ãƒ—ãƒªã¨ã—ã¦ã€Langchainã‚’ä½¿ã£ãŸãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã™ã€‚

<Warning>
  Morph CLIã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¦ã„ãªã„å ´åˆã¯ã€[ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](/docs/ja/getting-started/installation)ã‚’å‚ç…§ã—ã¦ã€CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚
</Warning>

<Note>
  ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ã€OpenAIã®APIã‚­ãƒ¼ãŒå¿…è¦ã§ã™ã€‚APIã‚­ãƒ¼ã‚’å–å¾—ã™ã‚‹ã«ã¯ã€[OpenAIã®ã‚µã‚¤ãƒˆ](https://platform.openai.com/)ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã ã•ã„ã€‚
</Note>

<Steps>
  <Step title="ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–">
    ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚
    ```bash
    morph new chat-app
    ```
  </Step>
  <Step title="ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹">
    Langchainã‚’ä½¿ã†ãŸã‚ã«ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
    ```bash
    pip install langchain langchain-openai
    ```
  </Step>
  <Step title="chat.pyã‚’ä½œæˆã™ã‚‹">
    `src/python` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `chat.py` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚
    ```python src/python/chat.py
      import morph
      from morph import MorphGlobalContext
      from morph_lib.stream import stream_chat
      from langchain_openai import ChatOpenAI
      from langchain_core.messages import HumanMessage

      llm = ChatOpenAI(model="gpt-4o", stream=True)

      @morph.func
      def langchain_chat(context: MorphGlobalContext):
        messages = [HumanMessage(context.vars["prompt"])]
        for token in llm.stream(messages):
          yield stream_chat(token.content)
    ```
  </Step>
  <Step title="index.mdxã‚’ç·¨é›†ã™ã‚‹">
    å…ˆã»ã©ä½œæˆã—ãŸPythoné–¢æ•°ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã«ã€index.mdxã‚’ç·¨é›†ã—ã¾ã™ã€‚
    ```md src/pages/index.mdx
    # ğŸ¦œğŸ”— Langchain Chat

    <Chat postData="langchain_chat" height={300} />
    ```
  </Step>
  <Step title=".envã«APIã‚­ãƒ¼ã‚’è¿½åŠ ã™ã‚‹">
    `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã«OpenAIã®APIã‚­ãƒ¼ã‚’è¿½åŠ ã—ã¾ã™ã€‚
    ```env .env
    OPENAI_API_KEY=your_api_key
    ```
  </Step>
  <Step title="ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã™ã‚‹">
    ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¾ã™ã€‚
    ```bash
    morph serve
    ```

    `localhost:8080` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€ã‚¢ãƒ—ãƒªã‚’é–‹ãã¾ã™ã€‚
  </Step>
</Steps>

<Frame>
  <video
    controls
    className="w-full aspect-video"
    src="https://videos.ctfassets.net/9ncizv60xc5y/2iLVmcZEi4k42qycBRtKKi/1b8ec7ab402f0aaaaf6c07ab2cd37967/Tutorial_AI_App.mp4"
  ></video>
</Frame>


ã‚·ãƒ³ãƒ—ãƒ«ãªãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒªã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã«å¿…è¦ãªã‚³ãƒ¼ãƒ‰ã®å…¨ã¦ã¯ã€ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚ãŸã£ãŸã“ã‚Œã ã‘ã§ã™ï¼


<CodeGroup>

```python src/python/chat.py
import morph
from morph import MorphGlobalContext
from morph_lib.stream import stream_chat
from langchain_openai import ChatOpenAI
from langchain_core.messages import HumanMessage

@morph.func
def langchain_chat(context: MorphGlobalContext):
  llm = ChatOpenAI(model="gpt-4o", stream=True)
  messages = [HumanMessage(context.vars["prompt"])]
  for token in llm.stream(messages):
    yield stream_chat(token.content)
```

```md src/pages/index.mdx
# ğŸ¦œğŸ”— Langchain Chat

<Chat postData="langchain_chat" height={300} />
```

```env .env
OPENAI_API_KEY=your_api_key
```

</CodeGroup>
