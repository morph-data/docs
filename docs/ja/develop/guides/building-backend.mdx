---
title: 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’æ§‹ç¯‰ã™ã‚‹'
icon: "brackets-curly"
---

Morphã§ã¯ã€Pythonã‚’ä½¿ç”¨ã—ã¦ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚Pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è‡ªç”±ã«è¿½åŠ ã—ã¦ã€ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã‚„AIãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## é–‹ç™ºã®æµã‚Œ

Morphã§ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºã®æ‰‹é †ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

<Steps>
  <Step title="Pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã™ã‚‹">
    Morphã¯ä¸€èˆ¬çš„ãªPythonãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å½¢å¼ã§ã‚ã‚‹ãŸã‚ã€è‡ªç”±ã«Pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚`requirements.txt`ã‚„`poetry.toml`ã«å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚
  </Step>
  <Step title="Pythoné–¢æ•°ã‚’å®šç¾©ã—ã€Morphã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’è¿½åŠ ">
    é€šå¸¸ã®Pythonã®é–¢æ•°å®šç¾©ã«ã€Morphã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’è¨­å®šã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ä»–ã®Pythonã‚„SQLãƒ•ã‚¡ã‚¤ãƒ«ã€ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã“ã®é–¢æ•°ã®çµæœã‚’å‚ç…§ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
    ```python
    import pandas as pd
    import morph
    from morph import MorphGlobalContext
    
    # Morphã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’è¿½åŠ 
    @morph.func(name="example_dataframe")
    @morph.load_data("example_data")
    def example_dataframe(context: MorphGlobalContext):
        df = context.data["example_data"]
        return df
    ```
  </Step>
  <Step title="Pythoné–¢æ•°ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹">
    é–¢æ•°ã‚’å˜ä½“ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã«ã€`morph run`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦é–¢æ•°ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
    ```bash
    morph run example_dataframe
    ```
  </Step>
  <Step title="é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã™ã‚‹">
    é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã™ã‚‹ã“ã¨ã§ã€Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
    ```bash
    morph serve
    ```
  </Step>
</Steps>

## Pythoné–¢æ•°ã®è¿”ã‚Šå€¤

Morphãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å®šç¾©ã™ã‚‹Pythoné–¢æ•°ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªè¿”ã‚Šå€¤ã‚’æŒã¤å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### DataFrame

ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã®çµæœã‚’è¡¨ã™DataFrameã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‚SQLã®å®Ÿè¡Œçµæœã‚‚DataFrameã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã®çµæœã‚’ä»–ã®Pythonãƒ•ã‚¡ã‚¤ãƒ«ã§ç”¨ã„ã‚‹å ´åˆã‚„ã€ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã§è¡¨ç¤ºã™ã‚‹å ´åˆã«ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

å¯¾å¿œã™ã‚‹ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€[`<DataFrame>`](/data-application/ja/data-component-table)ã§ã™ã€‚

<CodeGroup>
```python df.py
import morph
from morph import MorphGlobalContext

@morph.func(name="example_dataframe")
@morph.load_data("example_data")
def example_dataframe(context: MorphGlobalContext):
    df = context.data["example_data"]
    return df
```
```md data_table.mdx
# Display DataFrame as DataTable

<DataFrame loadData="example_dataframe" height={500} />
```
</CodeGroup>

### HTMLæ–‡å­—åˆ—

ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã®çµæœãªã©ã‚’æç”»ã™ã‚‹ãŸã‚ã®HTMLæ–‡å­—åˆ—ã€‚Plotlyã‚„Bokehãªã©ã®å¯è¦–åŒ–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç”¨ã„ã¦æç”»ã—ãŸã‚°ãƒ©ãƒ•ã‚’è¡¨ç¤ºã—ãŸã„å ´åˆã«ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

å¯¾å¿œã™ã‚‹ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€[`<Embed>`](/data-application/ja/data-component-embed)ã§ã™ã€‚

<CodeGroup>
```python plotly.py
import plotly.express as px
import morph
from morph import MorphGlobalContext

@morph.func(name="example_dataframe")
@morph.load_data("example_data")
def example_dataframe(context: MorphGlobalContext):
    df = context.data["example_data"]
    fig = px.bar(df, x='date', y='amount')
    return fig
```
```md embed.mdx
# Display Plotly Chart

<Embed loadData="example_plotly" height={500} />
```
</CodeGroup>

### ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°

LLM APIãªã©ã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°APIã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã«ä½¿ç”¨ã—ã¾ã™ã€‚ `stream_chat` é–¢æ•°ã‚’ç”¨ã„ã¦å€¤ã®æµã—è¾¼ã¿ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

å¯¾å¿œã™ã‚‹ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€[`<Chat>`](/data-application/ja/ai-component-chat)ã§ã™ã€‚

<CodeGroup>
```python chat.py
import morph
from morph import MorphGlobalContext
from morph_lib.stream import stream_chat
from langchain_openai import ChatOpenAI
from langchain_core.messages import HumanMessage

@morph.func
def langchain_chat(context: MorphGlobalContext):
  llm = ChatOpenAI(model="gpt-4o")
  messages = [HumanMessage(context.vars["prompt"])]
  for token in llm.stream(messages):
    yield stream_chat(token.content)
```
```md chat.mdx
# ğŸ¦œğŸ”— Langchain Chat

<Chat postData="langchain_chat" height={300} />
```
</CodeGroup>